{"code":"\"use strict\";\r\nconst core_1 = require(\"@angular/core\");\r\nconst forms_1 = require(\"@angular/forms\");\r\nconst meteor_1 = require(\"meteor/meteor\");\r\nconst parties_collection_1 = require(\"../../../../both/collections/parties.collection\");\r\nconst parties_form_component_html_1 = require(\"./parties-form.component.html\");\r\nlet PartiesFormComponent = class PartiesFormComponent {\r\n    constructor(formBuilder) {\r\n        this.formBuilder = formBuilder;\r\n    }\r\n    ngOnInit() {\r\n        this.addForm = this.formBuilder.group({\r\n            name: ['', forms_1.Validators.required],\r\n            description: [],\r\n            location: ['', forms_1.Validators.required],\r\n            public: [false]\r\n        });\r\n    }\r\n    addParty() {\r\n        if (!meteor_1.Meteor.userId()) {\r\n            alert('Please log in to add a party');\r\n            return;\r\n        }\r\n        if (this.addForm.valid) {\r\n            parties_collection_1.Parties.insert({\r\n                name: this.addForm.value.name,\r\n                description: this.addForm.value.description,\r\n                location: {\r\n                    name: this.addForm.value.location\r\n                },\r\n                public: this.addForm.value.public,\r\n                owner: meteor_1.Meteor.userId()\r\n            });\r\n            this.addForm.reset();\r\n        }\r\n    }\r\n};\r\nPartiesFormComponent = __decorate([\r\n    core_1.Component({\r\n        selector: 'parties-form',\r\n        template: parties_form_component_html_1.default\r\n    }),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof forms_1.FormBuilder !== \"undefined\" && forms_1.FormBuilder) === \"function\" && _a || Object])\r\n], PartiesFormComponent);\r\nexports.PartiesFormComponent = PartiesFormComponent;\r\nvar _a;\r\n//# sourceMappingURL=parties-form.component.js.map","sourceMap":{"version":3,"file":"parties-form.component.js","sourceRoot":"","sources":["client/imports/app/parties/parties-form.component.ts"],"names":[],"mappings":";AAAA,wCAAkD;AAClD,0CAAoE;AACpE,0CAAuC;AAEvC,wFAA0E;AAE1E,+EAAqD;AAMrD,IAAa,oBAAoB,GAAjC;IAGE,YACU,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,IAAI,EAAE,CAAC,EAAE,EAAE,kBAAU,CAAC,QAAQ,CAAC;YAC/B,WAAW,EAAE,EAAE;YACf,QAAQ,EAAE,CAAC,EAAE,EAAE,kBAAU,CAAC,QAAQ,CAAC;YACnC,MAAM,EAAE,CAAC,KAAK,CAAC;SAChB,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YACrB,KAAK,CAAC,8BAA8B,CAAC,CAAC;YACtC,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACvB,4BAAO,CAAC,MAAM,CAAC;gBACb,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI;gBAC7B,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW;gBAC3C,QAAQ,EAAE;oBACR,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ;iBAClC;gBACD,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM;gBACjC,KAAK,EAAE,eAAM,CAAC,MAAM,EAAE;aACvB,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACvB,CAAC;IACH,CAAC;CACF,CAAA;AApCY,oBAAoB;IAJhC,gBAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,QAAQ,EAAR,qCAAQ;KACT,CAAC;yDAKuB,mBAAW,oBAAX,mBAAW;GAJvB,oBAAoB,CAoChC;AApCY,oDAAoB","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Meteor } from 'meteor/meteor';\n\nimport { Parties } from '../../../../both/collections/parties.collection';\n\nimport template from './parties-form.component.html';\n\n@Component({\n  selector: 'parties-form',\n  template\n})\nexport class PartiesFormComponent implements OnInit {\n  addForm: FormGroup;\n\n  constructor(\n    private formBuilder: FormBuilder\n  ) {}\n\n  ngOnInit() {\n    this.addForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: [],\n      location: ['', Validators.required],\n      public: [false]\n    });\n  }\n\n  addParty(): void {\n    if (!Meteor.userId()) {\n      alert('Please log in to add a party');\n      return;\n    }\n\n    if (this.addForm.valid) {\n      Parties.insert({\n        name: this.addForm.value.name,\n        description: this.addForm.value.description,\n        location: {\n          name: this.addForm.value.location\n        },\n        public: this.addForm.value.public,\n        owner: Meteor.userId()\n      });\n\n      this.addForm.reset();\n    }\n  }\n}\n"]},"version":"1","isExternal":true,"dependencies":{"modules":["both/collections/parties.collection.ts"],"refFiles":[],"refTypings":[],"mappings":{"../../../../both/collections/parties.collection":{"resolvedPath":"both/collections/parties.collection","external":false}}},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2307,"fileName":"client/imports/app/parties/parties-form.component.ts","message":"Cannot find module '@angular/core'.","line":1,"column":35},{"code":2307,"fileName":"client/imports/app/parties/parties-form.component.ts","message":"Cannot find module '@angular/forms'.","line":2,"column":52},{"code":2307,"fileName":"client/imports/app/parties/parties-form.component.ts","message":"Cannot find module 'meteor/meteor'.","line":3,"column":24}]},"hash":"a9d186f03679fabf19d8ec2f04a0b5fd3392f2cf"}