{"code":"\"use strict\";\r\nconst core_1 = require(\"@angular/core\");\r\nconst parties_collection_1 = require(\"../../../../both/collections/parties.collection\");\r\nlet RsvpPipe = class RsvpPipe {\r\n    transform(party, type) {\r\n        if (!type) {\r\n            return 0;\r\n        }\r\n        let total = 0;\r\n        const found = parties_collection_1.Parties.findOne(party._id);\r\n        if (found)\r\n            total = found.rsvps ? found.rsvps.filter(rsvp => rsvp.response === type).length : 0;\r\n        return total;\r\n    }\r\n};\r\nRsvpPipe = __decorate([\r\n    core_1.Pipe({\r\n        name: 'rsvp'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [])\r\n], RsvpPipe);\r\nexports.RsvpPipe = RsvpPipe;\r\n//# sourceMappingURL=rsvp.pipe.js.map","sourceMap":{"version":3,"file":"rsvp.pipe.js","sourceRoot":"","sources":["client/imports/app/shared/rsvp.pipe.ts"],"names":[],"mappings":";AAAA,wCAAkD;AAElD,wFAAwE;AAKxE,IAAa,QAAQ,GAArB;IACE,SAAS,CAAC,KAAY,EAAE,IAAY;QAClC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;QAED,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,MAAM,KAAK,GAAG,4BAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEzC,EAAE,CAAC,CAAC,KAAK,CAAC;YACR,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAEtF,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;CACF,CAAA;AAdY,QAAQ;IAHpB,WAAI,CAAC;QACJ,IAAI,EAAE,MAAM;KACb,CAAC;;GACW,QAAQ,CAcpB;AAdY,4BAAQ","sourcesContent":["import {Pipe, PipeTransform} from '@angular/core';\nimport {Party} from \"../../../../both/models/party.model\";\nimport {Parties} from \"../../../../both/collections/parties.collection\";\n \n@Pipe({\n  name: 'rsvp'\n})\nexport class RsvpPipe implements PipeTransform {\n  transform(party: Party, type: string): number {\n    if (!type) {\n      return 0;\n    }\n \n    let total = 0;\n    const found = Parties.findOne(party._id);\n \n    if (found)\n      total = found.rsvps ? found.rsvps.filter(rsvp => rsvp.response === type).length : 0;\n \n    return total;\n  }\n}\n"]},"version":"1","isExternal":true,"dependencies":{"modules":["both/models/party.model.ts","both/collections/parties.collection.ts"],"refFiles":[],"refTypings":[],"mappings":{"../../../../both/models/party.model":{"resolvedPath":"both/models/party.model","external":false},"../../../../both/collections/parties.collection":{"resolvedPath":"both/collections/parties.collection","external":false}}},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2307,"fileName":"client/imports/app/shared/rsvp.pipe.ts","message":"Cannot find module '@angular/core'.","line":1,"column":35}]},"hash":"dc0c4f2c1c14e500c64320121f8f9e8532fc93e2"}