{"code":"\"use strict\";\r\nconst core_1 = require(\"@angular/core\");\r\nconst images_collection_1 = require(\"../../../../both/collections/images.collection\");\r\nconst meteor_1 = require(\"meteor/meteor\");\r\nlet DisplayMainImagePipe = class DisplayMainImagePipe {\r\n    transform(party) {\r\n        if (!party) {\r\n            return;\r\n        }\r\n        let imageUrl;\r\n        let imageId = (party.images || [])[0];\r\n        const found = images_collection_1.Images.findOne(imageId);\r\n        if (found) {\r\n            if (!meteor_1.Meteor.isCordova) {\r\n                imageUrl = found.url;\r\n            }\r\n            else {\r\n                const path = `ufs/${found.store}/${found._id}/${found.name}`;\r\n                imageUrl = meteor_1.Meteor.absoluteUrl(path);\r\n            }\r\n        }\r\n        return imageUrl;\r\n    }\r\n};\r\nDisplayMainImagePipe = __decorate([\r\n    core_1.Pipe({\r\n        name: 'displayMainImage'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [])\r\n], DisplayMainImagePipe);\r\nexports.DisplayMainImagePipe = DisplayMainImagePipe;\r\n//# sourceMappingURL=display-main-image.pipe.js.map","sourceMap":{"version":3,"file":"display-main-image.pipe.js","sourceRoot":"","sources":["client/imports/app/shared/display-main-image.pipe.ts"],"names":[],"mappings":";AAAA,wCAAkD;AAClD,sFAAwE;AAExE,0CAAuC;AAKvC,IAAa,oBAAoB,GAAjC;IACE,SAAS,CAAC,KAAY;QACpB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACX,MAAM,CAAC;QACT,CAAC;QAED,IAAI,QAAgB,CAAC;QACrB,IAAI,OAAO,GAAW,CAAC,KAAK,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,MAAM,KAAK,GAAG,0BAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAEtC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACV,EAAE,CAAC,CAAC,CAAC,eAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBACtB,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,IAAI,GAAG,OAAO,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;gBAC7D,QAAQ,GAAG,eAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACtC,CAAC;QACH,CAAC;QAED,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;CACF,CAAA;AAtBY,oBAAoB;IAHhC,WAAI,CAAC;QACJ,IAAI,EAAE,kBAAkB;KACzB,CAAC;;GACW,oBAAoB,CAsBhC;AAtBY,oDAAoB","sourcesContent":["import {Pipe, PipeTransform} from '@angular/core';\nimport { Images } from '../../../../both/collections/images.collection';\nimport { Party } from '../../../../both/models/party.model';\nimport { Meteor } from \"meteor/meteor\";\n\n@Pipe({\n  name: 'displayMainImage'\n})\nexport class DisplayMainImagePipe implements PipeTransform {\n  transform(party: Party) {\n    if (!party) {\n      return;\n    }\n\n    let imageUrl: string;\n    let imageId: string = (party.images || [])[0];\n\n    const found = Images.findOne(imageId);\n\n    if (found) {\n      if (!Meteor.isCordova) {\n        imageUrl = found.url;\n      } else {\n        const path = `ufs/${found.store}/${found._id}/${found.name}`;\n        imageUrl = Meteor.absoluteUrl(path);\n      }\n    }\n\n    return imageUrl;\n  }\n}"]},"version":"1","isExternal":true,"dependencies":{"modules":["both/collections/images.collection.ts","both/models/party.model.ts"],"refFiles":[],"refTypings":[],"mappings":{"../../../../both/collections/images.collection":{"resolvedPath":"both/collections/images.collection","external":false},"../../../../both/models/party.model":{"resolvedPath":"both/models/party.model","external":false}}},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2307,"fileName":"client/imports/app/shared/display-main-image.pipe.ts","message":"Cannot find module '@angular/core'.","line":1,"column":35},{"code":2307,"fileName":"client/imports/app/shared/display-main-image.pipe.ts","message":"Cannot find module 'meteor/meteor'.","line":4,"column":24}]},"hash":"198cc7a9d42652cd7bfd39f900b7c8f6ec8dbea6"}